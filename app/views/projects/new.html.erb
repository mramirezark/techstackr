<% content_for :title, "New Project - TechStackr" %>

<div class="container-custom">
  <div class="dashboard-header animate-fade-in mb-6">
    <div class="breadcrumb">Pages / Projects</div>
    <h1 class="page-title">Create New Project</h1>
    <p class="text-blue-100 mt-2">Describe your project and get AI-powered technology recommendations</p>
  </div>
  
  <div class="card-form">

    <%= form_with model: @project, local: true, class: "form-group" do |form| %>
      <% if @project.errors.any? %>
        <div class="alert alert-error">
          <div class="flex items-start gap-3">
            <span class="alert-icon">⚠️</span>
            <div class="flex-1">
              <h4 class="font-semibold mb-2">
                <%= pluralize(@project.errors.count, "error") %> prohibited this project from being saved:
              </h4>
              <ul class="list-disc list-inside space-y-1">
                <% @project.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          </div>
        </div>
      <% end %>

      <div class="responsive-grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="form-field">
          <%= form.label :title, "Project Title", class: "form-label form-label-required" %>
          <%= form.text_field :title, placeholder: "e.g., E-commerce Mobile App", required: true, class: "form-input hover-lift" %>
        </div>

        <div class="form-field">
          <%= form.label :industry, "Industry", class: "form-label form-label-required" %>
          <%= form.select :industry, 
              options_for_select(Project::INDUSTRIES), 
              { prompt: "Select industry" },
              { required: true, class: "form-select hover-lift" }
          %>
          <p class="form-help">Helps tailor recommendations to your domain</p>
        </div>
      </div>

      <div class="responsive-grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="form-field">
          <%= form.label :project_type, "Project Type", class: "form-label form-label-required" %>
          <%= form.select :project_type, 
              options_for_select([
                ["Web Application", "web_application"],
                ["Mobile Application", "mobile_application"],
                ["Desktop Application", "desktop_application"],
                ["API/Backend Service", "api_backend"],
                ["Data Science/ML Project", "data_science"],
                ["DevOps/Infrastructure", "devops"],
                ["Other", "other"]
              ]), 
              { prompt: "Select project type" },
              { required: true, class: "form-select hover-lift" }
          %>
        </div>

        <div class="form-field">
          <%= form.label :estimated_team_size, "Estimated Team Size", class: "form-label form-label-required" %>
          <%= form.number_field :estimated_team_size, 
              placeholder: "e.g., 5",
              min: 1,
              max: 1000,
              required: true,
              class: "form-input hover-lift"
          %>
          <p class="form-help">Number of team members expected</p>
        </div>
      </div>

      <div class="form-field">
        <%= form.label :description, "Project Description", class: "form-label form-label-required" %>
        <%= form.text_area :description, 
            placeholder: "Describe your project requirements, features, expected scale, and any specific technical constraints...",
            required: true,
            rows: 6,
            class: "form-textarea hover-lift"
        %>
        <p class="form-help">Be as detailed as possible for better AI recommendations</p>
      </div>

      <div class="form-actions">
        <%= form.submit "Create Project", class: "btn btn-primary btn-lg hover-lift" %>
        <%= link_to "Cancel", root_path, class: "btn btn-ghost btn-lg hover-lift" %>
      </div>
    <% end %>
  </div>
</div>
