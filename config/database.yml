# PostgreSQL configuration for TechStackr
# Supports Docker and local PostgreSQL installations
#
# Environment variables:
#   DB_HOST: PostgreSQL host (default: localhost)
#   DB_PORT: PostgreSQL port (default: 5432)
#   DB_USERNAME: PostgreSQL username (default: postgres)
#   DB_PASSWORD: PostgreSQL password (default: postgres)

default: &default
  adapter: postgresql
  encoding: unicode
  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>
  host: <%= ENV.fetch("DB_HOST") { "localhost" } %>
  port: <%= ENV.fetch("DB_PORT") { 5432 } %>
  username: <%= ENV.fetch("DB_USERNAME") { "postgres" } %>
  password: <%= ENV.fetch("DB_PASSWORD") { "postgres" } %>

development:
  <<: *default
  database: <%= ENV.fetch("DB_NAME") { "techstackr" } %>_development

test:
  <<: *default
  database: <%= ENV.fetch("DB_NAME") { "techstackr" } %>_test

production:
  <<: *default
  database: <%= ENV.fetch("DB_NAME") { "techstackr" } %>_production
